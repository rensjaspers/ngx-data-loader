<ng-template
  #loader="ngxLoadWith"
  [ngxLoadWith]="loadFn"
  [ngxLoadWithArgs]="loadFnArgs"
  [ngxLoadWithErrorTemplate]="error"
  [ngxLoadWithLoadingTemplate]="loading"
  [ngxLoadWithDebounceTime]="debounceTime"
  [ngxLoadWithStaleData]="showStaleData"
  (loadingStateChange)="loadingStateChange.emit($event)"
  (loadError)="loadAttemptFailed.emit($event)"
  (loadFinish)="loadAttemptFinished.emit()"
  (loadSuccess)="dataLoaded.emit($event)"
  (loadStart)="loadAttemptStarted.emit()"
  let-data
  let-loading="loading"
>
  <ngx-data-loader-loaded
    [loadedTemplate]="loadedTemplate"
    [data]="data"
    [loading]="loading"
  ></ngx-data-loader-loaded>
</ng-template>

<ng-template #error let-error>
  <ngx-data-loader-error
    [error]="error"
    [errorTemplate]="errorTemplate"
    (reload)="loader.load()"
  ></ngx-data-loader-error>
</ng-template>

<ng-template #loading>
  <ngx-data-loader-loading
    [loadingTemplateDelay]="loadingTemplateDelay"
    [loadingTemplate]="loadingTemplate"
  ></ngx-data-loader-loading>
</ng-template>
